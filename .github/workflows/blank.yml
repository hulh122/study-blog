### CI è„šæœ¬å
name: Build and Deploy

### è§¦å‘ CI è„šæœ¬çš„å‰æï¼Œæ ‡æ³¨åªåœ¨ master åˆ†æ”¯ Push æ—¶è§¦å‘ CI è„šæœ¬
on:
  push:
    branches: [ master ]

  ### å…è®¸åœ¨ actions ä¸­è·‘ workflow çš„æµç¨‹
  workflow_dispatch:

### CI æ‰§è¡Œçš„ Jobs
jobs:
  build-and-deploy:
    ### æ‰§è¡Œç¯å¢ƒ
    runs-on: ubuntu-latest
    steps:
      ### æ£€å‡º ${GITHUB_WORKSPACE}
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v2.3.1

      ### ä¾èµ–å®‰è£…å’Œæ‰“åŒ…é˜¶æ®µï¼ŒActions ä¸­çš„æ‰“åŒ…æœºæ²¡æœ‰å…¨å±€å®‰è£… yarnï¼Œæ•…è¿™é‡Œä½¿ç”¨ npm
      - name: Install and Build ğŸ”§
        run: |
          npm install
          npm run build

      ### Deploy é˜¶æ®µï¼Œä½¿ç”¨è¯¥ actions å°†é™æ€æ–‡ä»¶æ¨é€è‡³ gh-pages åˆ†æ”¯
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@4.1.6
        with:
          branch: gh-pages # The branch the action should deploy to.
          folder: ./docs/.vuepress/dist
